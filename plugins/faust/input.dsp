import("stdfaust.lib");
import("iir3.dsp");

input = _ : fi.iir((B0 / A0, B1 / A0, B2 / A0), (A1 / A0, A2 / A0))
with {
    K = 2 * ma.SR;

    B0 = 1.10449884469421e-9*pow(K, 2) + 0.00246545127613797*K + 0.5;
    B1 = 1.0 - 2.20899768938842e-9*pow(K, 2);
    B2 = 1.10449884469421e-9*pow(K, 2) - 0.00246545127613797*K + 0.5;

    A0 = 1.10449884469421e-9*pow(K, 2) + 0.000115449950739352*K + 0.5;
    A1 = 1.0 - 2.20899768938842e-9*pow(K, 2);
    A2 = 1.10449884469421e-9*pow(K, 2) - 0.000115449950739352*K + 0.5;
} : _;
